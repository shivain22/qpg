<div class="row justify-content-center">
    <div class="col-8">
        <form name="editForm" role="form" novalidate (ngSubmit)="save()" [formGroup]="editForm">
        <div *ngIf="examMaster">
            <h2><span>Exam Master</span> {{ examMaster.id }}</h2>

            <hr>

            <jhi-alert-error></jhi-alert-error>
            <div class="form-group" hidden="true">
                <input type="text" class="form-control" id="id" name="id" formControlName="id" readonly />
                <input type="text" class="form-control" name="title" id="field_title" formControlName="title"/>
                <select class="form-control" id="field_collegeMaster" name="collegeMaster" formControlName="collegeMaster">
                    <option *ngIf="!editForm.get('collegeMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="collegeMasterOption.id === editForm.get('collegeMaster')?.value?.id ? editForm.get('collegeMaster')?.value : collegeMasterOption" *ngFor="let collegeMasterOption of collegemasters; trackBy: trackByCollegeId" >{{ collegeMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_departmentMaster" name="departmentMaster" formControlName="departmentMaster">
                    <option *ngIf="!editForm.get('departmentMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="departmentMasterOption.id === editForm.get('departmentMaster')?.value?.id ? editForm.get('departmentMaster')?.value : departmentMasterOption" *ngFor="let departmentMasterOption of filtereddepartmentmasters; trackBy: trackByDeptId">{{ departmentMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_courseMaster" name="courseMaster" formControlName="courseMaster">
                    <option *ngIf="!editForm.get('courseMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="courseMasterOption.id === editForm.get('courseMaster')!.value?.id ? editForm.get('courseMaster')!.value : courseMasterOption" *ngFor="let courseMasterOption of filteredcoursemasters; trackBy: trackByCourseId">{{ courseMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_categoryMaster" name="categoryMaster" formControlName="categoryMaster">
                    <option *ngIf="!editForm.get('categoryMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="categoryMasterOption.id === editForm.get('categoryMaster')!.value?.id ? editForm.get('categoryMaster')!.value : categoryMasterOption" *ngFor="let categoryMasterOption of filteredcategorymasters; trackBy: trackByCategoryId">{{ categoryMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_subCategoryMaster" name="subCategoryMaster" formControlName="subCategoryMaster">
                    <option *ngIf="!editForm.get('subCategoryMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="subCateogryMasterOption.id === editForm.get('subCategoryMaster')!.value?.id ? editForm.get('subCategoryMaster')!.value : subCateogryMasterOption" *ngFor="let subCateogryMasterOption of filteredsubcategorymasters; trackBy: trackBySubCategoryId">{{ subCateogryMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_subjectMaster" name="subjectMaster" formControlName="subjectMaster">
                    <option *ngIf="!editForm.get('subjectMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="subjectMasterOption.id === editForm.get('subjectMaster')!.value?.id ? editForm.get('subjectMaster')!.value : subjectMasterOption" *ngFor="let subjectMasterOption of filteredsubjectmasters; trackBy: trackBySubjectId">{{ subjectMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_subSubjectMaster" name="subSubjectMaster" formControlName="subSubjectMaster">
                    <option *ngIf="!editForm.get('courseMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="subSubjectMasterOption.id === editForm.get('subSubjectMaster')!.value?.id ? editForm.get('subSubjectMaster')!.value : subSubjectMasterOption" *ngFor="let subSubjectMasterOption of filteredsubsubjectmasters; trackBy: trackBySubSubjectId">{{ subSubjectMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_topicMaster" name="topicMaster" formControlName="topicMaster">
                    <option *ngIf="!editForm.get('courseMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="topicMasterOption.id === editForm.get('topicMaster')!.value?.id ? editForm.get('topicMaster')!.value : topicMasterOption" *ngFor="let topicMasterOption of filteredtopicmasters; trackBy: trackByTopicId">{{ topicMasterOption.name }}</option>
                </select>
                <select class="form-control" id="field_subTopicMaster" name="subTopicMaster" formControlName="subTopicMaster">
                    <option *ngIf="!editForm.get('courseMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="subTopicMasterOption.id === editForm.get('subTopicMaster')!.value?.id ? editForm.get('subTopicMaster')!.value : subTopicMasterOption" *ngFor="let subTopicMasterOption of filteredsubtopicmasters; trackBy: trackBySubTopicId">{{ subTopicMasterOption.name }}</option>
                </select>
                <input id="field_startDate" type="text" class="form-control" name="startDate" ngbDatepicker #startDateDp="ngbDatepicker" formControlName="startDate"/>
                <span class="input-group-append">
                            <button type="button" class="btn btn-secondary" (click)="startDateDp.toggle()"><fa-icon icon="calendar-alt"></fa-icon></button>
                        </span>

            </div>
            <dl class="row-md jh-entity-details">
                <dt><span>Title</span></dt>
                <dd>
                    <span>{{ examMaster.title }}</span>
                </dd>
                <dt><span>Start Date</span></dt>
                <dd>
                    <span>{{ examMaster.startDate }}</span>
                </dd>

                <dt><span>College</span></dt>
                <dd>
                    <span>{{ examMaster.collegeMaster?.name }}</span>
                </dd>

                <dt><span>Department</span></dt>
                <dd>
                    <span>{{ examMaster.departmentMaster?.name }}</span>
                </dd>

                <dt><span>Course</span></dt>
                <dd>
                    <span>{{ examMaster.courseMaster?.name }}</span>
                </dd>

                <dt><span>Category</span></dt>
                <dd>
                    <span>{{ examMaster.categoryMaster?.name }}</span>
                </dd>

                <dt><span>Sub Category</span></dt>
                <dd>
                    <span>{{ examMaster.subCategoryMaster?.name }}</span>
                </dd>

                <dt><span>Subject</span></dt>
                <dd>
                    <span>{{ examMaster.subjectMaster?.name }}</span>
                </dd>

                <dt><span>Sub Subject</span></dt>
                <dd>
                    <span>{{ examMaster.subSubjectMaster?.name }}</span>
                </dd>

                <dt><span>Topic</span></dt>
                <dd>
                    <span>{{ examMaster.topicMaster?.name }}</span>
                </dd>

                <dt><span>Sub Topic</span></dt>
                <dd>
                    <span>{{ examMaster.subTopicMaster?.name }}</span>
                </dd>
            </dl>
            <div class="form-group">
                <label class="form-control-label" for="field_questionBluePrintMaster">Question Banek</label>
                <select class="form-control" id="field_questionBluePrintMaster" name="questionBluePrintMaster" formControlName="questionBluePrintMaster">
                    <option *ngIf="!editForm.get('questionBluePrintMaster')!.value" [ngValue]="null" selected></option>
                    <option [ngValue]="questionBluePrintMasterOption.id === editForm.get('questionBluePrintMaster')!.value?.id ? editForm.get('questionBluePrintMaster')!.value : questionBluePrintMasterOption"  *ngFor="let questionBluePrintMasterOption of questionBluePrintMasters; trackBy: trackById" >
                        {{ questionBluePrintMasterOption.bpMasterLabel }}
                    </option>
                </select>
            </div>
            <div *ngIf="editForm.get('questionBluePrintMaster')!.invalid && (editForm.get('questionBluePrintMaster')!.dirty || editForm.get('questionBluePrintMaster')!.touched)">
                <small class="form-text text-danger"
                       *ngIf="editForm.get('questionBluePrintMaster')?.errors?.required">
                    This field is required.
                </small>
            </div>

            <button type="submit"
                    (click)="previousState()"
                    class="btn btn-info">
                <fa-icon icon="arrow-left"></fa-icon>&nbsp;<span>Back</span>
            </button>

            <button type="button"
                    [routerLink]="['/exam-master', examMaster.id, 'edit']"
                    class="btn btn-primary">
                <fa-icon icon="pencil-alt"></fa-icon>&nbsp;<span>Edit</span>
            </button>

            <button type="submit" id="save-entity" [disabled]="editForm.invalid || isSaving" class="btn btn-primary">
                <fa-icon icon="save"></fa-icon>&nbsp;<span>Save</span>
            </button>

        </div>
        </form>
    </div>
</div>
